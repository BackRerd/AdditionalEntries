---
title: 词条详解(cbs)
tags:
  - pfc
  - ca
  - mc
  - mod
categories:
  - pfc
  - ca
date: 2026-1-12 18:12:45
---
# ClassBioArsenal 词条系统详细文档

本文档详细描述了 `ClassBioArsenal` 模组中的词条系统，包括武器、护甲以及实体（生物）词条的作用、计算方式及触发逻辑。

---

## 1. 武器词条系统 (Weapon Affixes)
**配置文件**: `weapon_system/affixes.json`
**处理逻辑**: `WeaponEventHandler.java`

武器词条主要影响玩家持有的武器（剑、斧、三叉戟等）在攻击时产生的效果。

| 词条 ID | 显示名称 | 作用描述 | 技术细节 |
| :--- | :--- | :--- | :--- |
| `ATTACK_DAMAGE` | 攻击力 | 提高基础攻击伤害 | 直接加算到最终伤害中。 |
| `CRITICAL_RATE` | 暴击率 | 提高暴击触发概率 | 百分比概率触发。 |
| `CRITICAL_DAMAGE` | 暴击伤害 | 提高暴击时的伤害倍率 | 触发暴击时，总伤害乘以该倍率（默认 1.5x）。 |
| `FIRE_DAMAGE` | 火焰伤害 | 附加火焰伤害并点燃目标 | 点燃目标 3 秒，并造成额外火焰伤害。 |
| `ICE_DAMAGE` | 冰冻伤害 | 附加冰冻伤害并减速目标 | 施加 3 秒缓慢 II 效果，并造成额外冰冻伤害。 |
| `SOUL_DAMAGE` | 灵魂伤害 | 对灵魂生物造成额外伤害 | 对带有 `soul` 标签或名称含 `soul` 的生物造成额外魔法伤害。 |
| `DAMAGE_PER_SECOND` | 秒伤 | 持续对目标造成伤害 | 施加 3 秒凋零效果（等级 I）。 |
| `LIFESTEAL_RATE` | 吸血率 | 攻击时回复生命的概率 | 攻击时有概率触发吸血。 |
| `LIFESTEAL_MULTIPLIER` | 吸血倍率 | 吸血时回复的伤害百分比 | 触发吸血时，回复伤害值的指定百分比（默认 10%）。 |
| `LIGHTBURST` | 光爆 | 攻击施加失明与黑暗效果 | 施加 2 秒失明与黑暗效果。 |

---

## 2. 护甲词条系统 (Armor Affixes)
**配置文件**: `armor_system/armor_affixes.json`
**处理逻辑**: `ArmorEventHandler.java`

护甲词条在玩家穿戴相应护甲时生效，主要提供防御、生存或特殊反击能力。
> [!NOTE]
> 部分属性（如重甲、限伤、定伤、恢复、修复）会受到护甲**品质倍率 (Rarity Multiplier)** 的加成。

| 词条 ID | 显示名称 | 作用描述 | 技术细节 |
| :--- | :--- | :--- | :--- |
| `HEAVY_ARMOR` | 重甲 | 受到伤害前减少固定数值 | 在所有计算前直接减免伤害（受品质加成）。 |
| `DAMAGE_LIMIT` | 限伤 | 单次受到的伤害不会超过此数值 | 将单次受到的伤害上限锁定在指定值（受品质加成）。 |
| `THORNS` | 反甲 | 反弹受到伤害的一定百分比 | 将受到伤害的百分比反弹给攻击者。 |
| `FIXED_DAMAGE` | 定伤 | 每次只承受固定点伤害 | 强制将伤害设为固定值。若原始伤害超过该值 8 倍则失效（受品质加成）。 |
| `SLOW` | 延缓 | 受击时概率使攻击者缓慢 | 概率施加 3 秒缓慢 II 效果。 |
| `STUN` | 晕厥 | 受击时概率使攻击者失明反胃 | 概率施加 2 秒失明与 3 秒反胃效果。 |
| `REGEN` | 恢复 | 每秒恢复一定生命值 | 每秒（可配置间隔）回复生命值（受品质加成）。 |
| `EXPLOSIVE` | 爆甲 | 受击时概率引发爆炸 | 概率在穿戴者位置引发威力为 2 的爆炸（不破坏方块）。 |
| `SOUL_IMMUNE` | 灵魂 | 免疫魔法伤害 | 完全免疫魔法（Magic）和间接魔法伤害。 |
| `BERSERK` | 狂躁 | 攻击力提升，但攻击时扣血 | 增加攻击伤害，但每次攻击扣除自身 1% 最大生命值。 |
| `SPEED` | 速度 | 提高移动速度百分比 | 直接增加玩家的移动速度属性。 |
| `REPAIR` | 修复 | 每秒修复装备耐久 | 每 2 秒（可配置间隔）修复装备耐久（受品质加成）。 |
| `DODGE` | 闪避 | 概率完全闪避攻击 | 概率完全抵消受到的伤害并显示“已闪避”。 |
| `SHOCK` | 震荡 | 受击时震荡周围敌人 | 概率对周围 3 格内敌人造成魔法伤害并击退。 |
| `ATTACK_BOOST` | 攻击加成 | 穿戴时增加固定攻击力 | 直接增加玩家的攻击力（加算）。 |
| `FINAL_DAMAGE` | 最终伤害 | 穿戴时按百分比提升最终伤害 | 按百分比提升玩家造成的总伤害（乘算）。 |
| `BLEED_ON_HIT` | 流血 | 攻击时概率使目标进入流血状态 | 攻击时概率施加 3 秒凋零效果（模拟流血）。 |
| `ARMOR_BOOST` | 护甲加成 | 穿戴时增加固定护甲值 | 直接增加玩家的护甲值属性。 |

---

## 3. 实体词条系统 (Entity Affixes / Tags)
**配置文件**: `entity_system/affix_config.json`
**处理逻辑**: `AffixEffectHandler.java`

实体词条（标签）会自动分配给生成的生物（如僵尸、骷髅等），赋予它们特殊的能力或属性加成。

| 词条 ID | 内部名称 | 作用描述 |
| :--- | :--- | :--- |
| `tag_cold` | 冰霜 | 攻击概率减速目标；自身带有减速光环。 |
| `tag_resurrect` | 复活 | 死亡时概率复活，回复部分生命并获得再生与抗性。 |
| `tag_brutal` | 残暴 | 提升造成的最终伤害。 |
| `tag_explosive` | 爆炸 | 死亡时产生剧烈爆炸。 |
| `tag_greedy` | 贪婪 | 造成双倍伤害，但每次攻击会扣除自身生命。 |
| `tag_vampire` | 吸血 | 攻击时根据造成的伤害回复生命。 |
| `tag_lightburst` | 光爆 | 攻击时使目标失明并陷入黑暗。 |
| `tag_frenzy` | 狂热 | 攻击时对目标周围的生物造成溅射伤害。 |
| `tag_swift` | 迅捷 | 永久提升移动速度并获得速度效果。 |
| `tag_unmatched` | 无双 | 极大提升最大生命值、攻击力和护甲值。 |
| `tag_soul` | 灵魂 | 免疫非魔法、非爆炸、非弹射物、非火焰的伤害（除非攻击者持有灵魂伤害武器）。 |
| `tag_teleport` | 闪现 | 受到超过 10% 生命值的伤害时，瞬移到攻击者附近。 |
| `tag_celestial` | 天界 | 概率使攻击者漂浮并引发爆炸。 |
| `tag_leader` | 领袖 | 受到攻击时概率召唤同类型的随从。 |
| `tag_desperate` | 绝境 | 生命值低于 5% 时爆发，获得灵魂、无双、爆炸、迅捷、天界、吸血等多种强力词条。 |
| `tag_adapt` | 适应 | 受到伤害时永久提升自身护甲值（有上限）。 |
| `tag_disarm` | 缴械 | 攻击玩家时，有概率使其掉落主手物品。 |
| `tag_apotheosis` | 封神 | 每击杀 5 个生物提升一次等级，永久增加最大生命值。 |
| `tag_domain` | 领域 | 生命值低于 10% 时，持续对周围生物造成魔法伤害。 |
| `tag_combo` | 连击 | 连续攻击同一目标时，伤害随连击数提升。 |
| `tag_guerrilla` | 游击 | 根据攻击者的移动速度提升造成的伤害。 |

---

## 4. 词条数值计算公式

### 4.1 基础数值计算
大部分词条的数值遵循以下线性成长公式：
`实际数值 = 最小值 + (当前等级 - 1) * 等级成长值`

### 4.2 护甲品质加成
对于护甲系统中的特定词条（如 `HEAVY_ARMOR`），最终数值还会乘以护甲的品质倍率：
`最终数值 = 实际数值 * 品质倍率`

---

## 5. 实体等级与词条生成逻辑
1. **等级计算**: 根据生物与出生点的距离计算基础等级，并受维度配置（`level_config.json`）影响。
2. **词条数量**: 词条数量由等级决定（例如 1-5 级 1 个，50 级以上 5 个）。
3. **词条筛选**: 系统会根据生物类型（`entity_settings.json`）的白名单/黑名单过滤可选词条。
4. **属性加成**: 生物等级越高，基础生命、攻击和护甲的加成倍率越高。
